<ion-modal-view ng-controller="LoginredirectController">

    <ion-header-bar class="bar-custom">
        <div class="buttons">
            <button class="button button-clear" ng-click="closeLoginModal()">{{ "Close" | translate }}</button>
        </div>
        <h1 class="title">{{ page_title | translate }}</h1>
        <div class="buttons" ng-show="is_logged_in">
            <button class="button button-clear ion-power" ng-click="logout()">
            </button>
        </div>
    </ion-header-bar>

    <ion-content>

        <form method="post" name="loginForm" ng-submit="post()" class="slide-down" ng-show="display_login_form">

            <div class="list">

              

                <div class="item item-divider item-divider-custom">
                    <p>{{ "Sign in with your account" | translate }} :</p>
                </div>

                <label class="item item-input item-custom">
                    <i class="icon ion-ios-person"></i>
                    <input type="email" placeholder="{{ 'Email' | translate }}" ng-model="customer.email" />
                </label>

                <label class="item item-input item-custom">
                    <i class="icon ion-locked"></i>
                    <input type="password" placeholder="{{ 'Password' | translate }}" ng-model="customer.password" />
                </label>

                <button type="submit" class="button button-block button-custom activated" ng-show="!is_loading">{{ "Log-in" | translate }}</button>

                <div class="loader" ng-show="is_loading">
                    <ion-spinner class="spinner-custom"></ion-spinner>
                </div>
              
            </div>

        </form>

        <form method="post" name="accountForm" ng-submit="save()" class="slide-top" ng-show="display_account_form">

            <div class="list">

                <label class="item item-input item-select item-custom">
                    <div class="input-label">
                        {{ "Civility" | translate }}
                    </div>
                    <select ng-model="customer.civility">
                        <option value=""></option>
                        <option value="mlle">{{ "Miss" | translate }}</option>
                        <option value="mme">{{ "Mrs" | translate }}</option>
                        <option value="m">{{ "Mr" | translate }}</option>
                    </select>
                </label>

                <label class="item item-input item-custom">
                    <input type="text" placeholder="{{ 'Firstname' | translate }}" ng-model="customer.firstname" />
                </label>

                <label class="item item-input item-custom">
                    <input type="text" placeholder="{{ 'Lastname' | translate }}" ng-model="customer.lastname" />
                </label>

                <label class="item item-input item-custom">
                    <input type="email" placeholder="{{ 'Email' | translate }}" ng-model="customer.email" />
                </label>

                <label class="item item-input item-custom">
                    <input type="password" placeholder="{{ 'Password' | translate }}" ng-model="customer.password" />
                </label>

                <ion-checkbox class="checkbox-custom" ng-model="customer.show_in_social_gaming">
                    {{ "Show me in ranking" | translate }}
                </ion-checkbox>

                <div class="item item-custom item-icon-left" ng-click="displayPrivacyPolicy('account')" ng-if="!is_logged_in">
                    <i class="icon ion-navicon"></i>
                    {{ "Privacy Policy" | translate }}
                </div>

                <ion-checkbox class="checkbox-custom" ng-model="customer.privacy_policy" ng-if="!is_logged_in">
                    {{ "I accept the privacy policy" | translate }}
                </ion-checkbox>

                <button type="submit" class="button button-block button-custom activated" ng-show="!is_loading">{{ "Send" | translate }}</button>

                <div class="loader" ng-show="is_loading">
                    <ion-spinner class="spinner-custom"></ion-spinner>
                </div>

                <div class="item item-custom item-icon-left" ng-click="displayLoginForm()" ng-if="!is_logged_in">
                    <i class="icon ion-ios-person"></i>
                    {{ "Click here to log-in" | translate }}
                </div>

            </div>

        </form>

    </ion-content>
</ion-modal-view>